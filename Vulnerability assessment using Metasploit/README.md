# Vulnerability assessment with metasploit

## Linux machine metasploitable2

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/a9bf9a77-32af-45e7-90aa-c1698b60f8f1)

Scanning with nmap

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3b113f66-788d-4ca0-951a-a651959cd486)

There are many exploit here

Firstly we choose the vsftpd 2.3.4

We search this exploit in the metasploit using search command

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/4b864fbd-5641-4945-8166-a1633bb48402)

now we can use this exploit using `use 0` command

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/20a2fe69-3790-459b-a7ba-3cd351d92b2a)

after using the `info 0` we could see that we need to set the RHOSTS

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/47f0c76e-30d1-4f76-b60f-02bce4b72d1b)

after setting the host, running the command we were able to get root shell access into the metasploit system

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/ff3df00a-1db7-4b55-9d55-a0fd61490db7)

Samba is running on port 139 and 445 so we will use a samba based exploit next

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/2133a185-8c95-4638-99e4-fa6559c1137c)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3662bb63-4ad5-4a03-849a-c13e10669368)

selected the exploit, now to assing the RHOST

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/b3fc7c1d-0382-48d6-a208-137b0afc53e1)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/922c63d7-b9c3-421c-bee1-3149f24cc699)

exploit worked and a reverse root shell was established to the metasploitable machine.

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/db3008fc-79ea-4e1b-bdaa-038c9d21a5d8)

### Windows

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/3f2eced8-0199-4121-a42f-2db93355beb6)

This is the target windows machine, we will try to get a remote shell here.

![Screenshot 2024-03-24 182756](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/c4d62a46-9ff5-4a4a-b1ba-0e5b05034fc5)

created a payload.

senting the payload by addind it in the html directory under `/var/www/html/`

![Screenshot 2024-03-24 182824](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/ebc7c7d9-c138-4633-bb75-dbd0f499700d)

now accessing it in the windows vm by typing in the kali IP as URL 

![Screenshot 2024-03-24 183053](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/dfd4a0a6-4b3c-423d-87ef-28f5854fea6d)

setting up the listner on kali vm

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/4881c68e-c199-4b29-bdcb-a6e6bd7d2222)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/612bc450-cd36-4877-bcdc-ac80f29da338)

setting the LHOST to the ip of kali vm

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/fc482a46-e6e0-4736-85cc-068d87b6dfc5)

now run the exploit and execute the payload in windows vm

![Screenshot 2024-03-24 183352](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/f3fdd52b-1275-4a6b-9636-c90a5e9c7106)

![image](https://github.com/RahulMMenon011/Cyber_Security/assets/140642506/4a56e2ff-c53f-4923-9eb1-67e152d0c0dc)

Now we have acess on the windows victim machine
